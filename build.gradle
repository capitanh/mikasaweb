/*
#############################################################################
# mikasaweb gradle build script                                             #
#############################################################################
*/
buildscript {
  repositories {
    jcenter()
  }
  dependencies {
    classpath 'org.akhikhl.gretty:gretty:+'
  }
}

apply plugin: 'war'
apply plugin: 'eclipse-wtp'
apply plugin: 'org.akhikhl.gretty'
defaultTasks 'clean','build'

group = 'net.mikasa'
version = '3.0.0-SNAPSHOT'
description = "mikasa.net webapp maven archetype"

//Project properties (frameworks versions etc)
sourceCompatibility = 1.7
targetCompatibility = 1.7

repositories {
	mavenLocal()
	mavenCentral()
	jcenter()
}

test {
  exclude '**/integration/*.*'
}

task integrationTest(type: Test){
	include '**/integration/*.*'
}

task testReport(type: TestReport){
	destinationDir = new File("C:/Reports")
	reportOn(test,integrationTest)
}

gretty {
  servletContainer = 'jetty8'
  integrationTestTask = 'integrationTest' // name of existing gradle task
}

dependencies {
		gretty (
			'mysql:mysql-connector-java:5.0.5',
		)
    compile(
			//logging
			'org.slf4j:slf4j-log4j12:1.7.2',
			'net.sf.appinfo:appinfo:0.5.2',
			//general
			'javax.servlet:jstl:1.2',
			'org.apache.tiles:tiles-extras:3.0.4',
			'org.lightadmin:lightadmin:1.0.0.RELEASE',
			'org.webjars:bootstrap:3.2.0',
  		'org.webjars:jquery:2.1.1',
			//spring
			'org.springframework:spring-core:3.2.4.RELEASE',
			'org.springframework:spring-web:3.2.4.RELEASE',
			'org.springframework:spring-webmvc:3.2.4.RELEASE',
			'org.springframework:spring-context:3.2.4.RELEASE',
			'org.springframework:spring-orm:3.2.4.RELEASE',
			'org.springframework:spring-context-support:3.2.4.RELEASE',
			'org.springframework:spring-jdbc:3.2.4.RELEASE',
			'org.springframework.data:spring-data-jpa:1.4.2.RELEASE',
			'org.springframework.security:spring-security-web:3.1.4.RELEASE',
			'org.springframework.security:spring-security-config:3.1.4.RELEASE',
			'org.springframework.security:spring-security-ldap:3.1.4.RELEASE',
			//hibernate
			'org.hibernate:hibernate-core:4.0.0.Final',
			'org.hibernate:hibernate-entitymanager:4.0.0.Final',
			'org.hibernate:hibernate-validator:4.0.0.GA'
		)
    testCompile(
			'junit:junit:4.8.2',
			'org.seleniumhq.selenium:selenium-java:2.24.1',
			'org.springframework:spring-test:3.2.4.RELEASE',
			'com.github.springtestdbunit:spring-test-dbunit:1.0.1',
			'com.h2database:h2:1.3.174',
			'org.dbunit:dbunit:2.4.8'
		)
}

/* //spring boot script
apply plugin: 'java'
apply plugin: 'war'
apply plugin: 'spring-boot'
apply plugin: 'eclipse-wtp'

group = 'net.mikasa'
version = '1.0.0-SNAPSHOT'
description = "Spring Boot POC"

buildscript {
  repositories {
    jcenter()
    mavenLocal()
    mavenCentral()
  }
  dependencies {
    classpath("org.springframework.boot:spring-boot-gradle-plugin:+")
  }
}

repositories {
    jcenter()
    mavenLocal()
    mavenCentral()
}

dependencies {
    compile("com.h2database:h2")
    compile("org.springframework.boot:spring-boot-starter-web")
    compile("org.springframework.boot:spring-boot-starter-thymeleaf")
    compile("org.springframework.boot:spring-boot-starter-data-jpa")
    compile("org.springframework.boot:spring-boot-starter-actuator")
    testCompile("org.springframework.boot:spring-boot-starter-test")
}
*/