buildscript {
  repositories {
    jcenter()
  }
  dependencies {
    classpath 'org.springframework.boot:spring-boot-gradle-plugin:1.5.8.RELEASE'
    classpath 'org.unbroken-dome.gradle-plugins:gradle-testsets-plugin:1.4.2'
  }
}

/*apply plugin: 'java'
apply plugin: 'org.unbroken-dome.test-sets'
apply plugin: 'eclipse-wtp'
apply plugin: 'org.springframework.boot'
apply plugin: 'war'*/

plugins {
  id 'java'
  id 'org.unbroken-dome.test-sets' version '1.4.2'
  id 'eclipse-wtp'
  id 'org.springframework.boot' version '1.5.8.RELEASE'
  id 'war'
}

repositories {
  jcenter()
}

//Integration tests config
testSets {  
  integrationTest
}
check.dependsOn integrationTest  
integrationTest.mustRunAfter test
tasks.withType(Test) {  
  reports.html.destination = file("${reporting.baseDir}/${name}")
}
project.integrationTest {  
  outputs.upToDateWhen { false }
}
tasks.withType(Test) {  
  reports.html.destination = file("${reporting.baseDir}/${name}")
}
test {  
  afterTest { desc, result ->
    println "Executing test [${desc.className}].${desc.name} with result: ${result.resultType}"
    }
}
integrationTest {  
  afterTest { desc, result ->
    println "Executing test [${desc.className}].${desc.name} with result: ${result.resultType}"
    }
}

dependencies {

  testCompile 'org.springframework.boot:spring-boot-starter-test'
  testCompile 'com.h2database:h2:1.4.182'
  testCompile 'org.seleniumhq.selenium:selenium-server:3.7.1'

  integrationTestCompile 'org.springframework.boot:spring-boot-starter-test'
  integrationTestCompile 'com.h2database:h2:1.4.182'
  integrationTestCompile 'org.seleniumhq.selenium:selenium-server:3.7.1'
  
  compile 'org.webjars:bootstrap:3.3.0'
  compile 'mysql:mysql-connector-java:5.0.5'
  compile 'org.apache.tomcat:dbcp:6.0.53'
  compile 'org.springframework.boot:spring-boot-devtools'
  compile 'org.springframework.boot:spring-boot-starter-web'
  compile 'org.springframework.boot:spring-boot-starter-security'
  compile 'org.springframework.boot:spring-boot-starter-data-jpa'
  compile 'org.springframework.boot:spring-boot-starter-thymeleaf'
}